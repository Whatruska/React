(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{133:function(e,t,a){e.exports=a.p+"static/media/user.0f16ef6a.png"},134:function(e,t,a){e.exports={Preloader:"Preloader_Preloader__29oWh"}},135:function(e,t,a){e.exports=a.p+"static/media/preloader.7a697984.svg"},136:function(e,t,a){e.exports={Container:"ProfileContainer_Container__1OEiY"}},137:function(e,t,a){e.exports={Greeting:"Greeting_Greeting__36b_x",title:"Greeting_title__11MSw"}},138:function(e,t,a){e.exports=a.p+"static/media/Greetings.d301fdc8.gif"},139:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},142:function(e,t,a){e.exports=a(268)},143:function(e,t,a){},148:function(e,t,a){},17:function(e,t,a){e.exports={Navbar:"Navbar_Navbar__1tqw3",list:"Navbar_list__1JbT0",item:"Navbar_item__2p_ZY",link:"Navbar_link__3DrrX",active:"Navbar_active__bbJag"}},21:function(e,t,a){e.exports={UserList:"UserList_UserList__2-w5x",wrapper:"UserList_wrapper__14pA6",column:"UserList_column__2Jpwq",btn:"UserList_btn__2WnJk",btns_wrapper:"UserList_btns_wrapper__ZAxJf",page_counter:"UserList_page_counter__2gmk5"}},22:function(e,t,a){e.exports={Info:"Info_Info__1C4DF",avatar:"Info_avatar__3XofM",data:"Info_data__bHTAE",contacts:"Info_contacts__2HTWC",fio:"Info_fio__1JtBQ"}},23:function(e,t,a){e.exports=a.p+"static/media/profile-header.d05892b6.jpeg"},24:function(e,t,a){e.exports={UserListItem:"UserListItem_UserListItem__30QEZ",meta:"UserListItem_meta__3C-Rr",avatar:"UserListItem_avatar__3j_t8",btn:"UserListItem_btn__2kZgt",follow:"UserListItem_follow__1HCrY",unfollow:"UserListItem_unfollow__1bf2v",info:"UserListItem_info__Vd-ma",login:"UserListItem_login__3PsVZ"}},267:function(e,t,a){},268:function(e,t,a){"use strict";a.r(t);a(143);var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var s,i=a(0),o=a.n(i),c=a(56),u=a.n(c),l=a(57),m=a(58),d=a(64),f=a(59),g=a(65),p=(a(148),a(15)),_=a(11),h=a(17),v=a.n(h),E=a(44),b=a.n(E),N=a(45),k=a.n(N),x=function(e){return o.a.createElement("div",{className:k.a.Friend},o.a.createElement("div",{className:k.a.avatar},o.a.createElement("img",{className:k.a.img,src:e.avatar,alt:"Avatar"})),o.a.createElement("div",{className:k.a.name},e.name))},w=function(e){var t=e.state.friends.map((function(e){return o.a.createElement(_.b,{to:"../Friend/"+e.name,active:b.a.active},o.a.createElement(x,{avatar:e.avatar,name:e.name}))}));return o.a.createElement("div",{className:b.a.Sidebar},o.a.createElement("h2",{className:b.a.heading},"Friends"),o.a.createElement("div",{className:b.a.friends},t))},I=function(e){return o.a.createElement("div",{className:v.a.Navbar},o.a.createElement("ul",{className:v.a.list},o.a.createElement("li",{className:v.a.item},o.a.createElement(_.b,{className:v.a.link,to:"../Profile",activeClassName:v.a.active},"Profile")),o.a.createElement("li",{className:v.a.item},o.a.createElement(_.b,{className:v.a.link,to:"../Messages",activeClassName:v.a.active},"Messages")),o.a.createElement("li",{className:v.a.item},o.a.createElement(_.b,{className:v.a.link,to:"../UserListAPIComponent",activeClassName:v.a.active},"Users"))),o.a.createElement(w,{state:e.state}))},O=a(90),L=a.n(O),y=a(66),F=a.n(y),P=function(e){return o.a.createElement("div",{className:F.a.user},o.a.createElement(_.b,{to:"/Messages/"+e.id,className:F.a.link,activeClassName:F.a.active},e.name))},M=a(6),S=a(67),C=a.n(S),T=a(270),j=a(269),A=a(60),U=a(46),H=a.n(U),R=function(e){var t=e.input,a=e.meta,n=Object(A.a)(e,["input","meta"]);return o.a.createElement("div",{className:H.a.TextArea},o.a.createElement("textarea",Object.assign({},t,n,{className:H.a.textarea+(a.error&&a.touched?" "+H.a.error:"")})),a.error&&a.touched?o.a.createElement("div",{className:H.a.span},a.error):o.a.createElement(o.a.Fragment,null))},G=function(e){if(!e||""===e)return"Field is required"},D=(s=100,function(e){if(e&&e.length>s)return"Max length is "+s}),W=Object(j.a)({form:"messageForm"})((function(e){return o.a.createElement("form",{className:C.a.form,onSubmit:e.handleSubmit},o.a.createElement(T.a,{component:R,name:"message",validate:[G,D]}),o.a.createElement("button",{className:C.a.button},"Submit"))})),q=function(e){return o.a.createElement("div",{className:C.a.Dialog},e.renderedMessages,o.a.createElement(W,{onSubmit:e.addMsg}))},Z=[{userId:1,dialog:[{text:"Hi",author:"Me"},{text:"How are you?",author:"Misha"},{text:"I`m gonna hang out",author:"Me"}]},{userId:2,dialog:[{text:"Hi, Ann",author:"Me"},{text:"How are you?",author:"Ann"},{text:"I`m fine",author:"Me"}]},{userId:3,dialog:[{text:"Hi, Zeka",author:"Me"},{text:"Let`s play CS:GO",author:"Zeka"},{text:"I`m fine",author:"Me"}]},{userId:4,dialog:[{text:"Hi",author:"Me"},{text:"How are you?",author:"Azat"},{text:"I`m gonna hang out",author:"Me"}]}],z=a(94),J=a.n(z),B=a(95),Y=a.n(B),V=a(96),K=a.n(V),Q=a(63),X=a.n(Q),$=a(23),ee=a.n($),te=[{userId:1,p:[{text:"Hi, wassup?",likes:45},{text:"How are you?",likes:24}]},{userId:2,p:[{text:"Hi, i`m Ann",likes:75},{text:"I really love dogs",likes:97}]},{userId:3,p:[{text:"Hi, I`m Misha?",likes:24},{text:"Sport one love",likes:-32}]},{userId:4,p:[{text:"Hi, I`m Zeka?",likes:36},{text:"\u041e\u043c\u0441\u043a \u0442\u043e\u043f",likes:100000002}]}],ae=function(e){for(var t=0;t<te.length;t++)if(te[t].userId===e)return te[t].p},ne=function(e){for(var t=[se,ie,ce,oe],a=0;a<t.length;a++)if(t[a].login===e)return t[a]},re=function(e){for(var t=[se,ie,ce,oe],a=0;a<t.length;a++)if(t[a].id===e)return t[a]},se={id:1,login:"Whatruska",date:"03.03.2002",city:"Omsk",phone:"+79136560423",vk:"vk.com/vitdub",avatar:X.a,header:ee.a,posts:ae(1),status:"\u041f\u0438\u0448\u0435\u043c \u043a\u043e\u0434 \u0441\u043b\u0435\u0437\u0430\u043c\u0438"},ie={id:2,login:"Anya",date:"04.05.2001",city:"Omsk",phone:"+79146578354",vk:"vk.com/annya",avatar:Y.a,header:ee.a,posts:ae(2),followed:!1,status:"\u042d\u043a\u043e\u043d\u043e\u043c - \u0447\u0435\u043c\u043f\u0438\u043e\u043d"},oe={id:4,login:"Zeka",date:"25.04.1996",city:"Omsk",phone:"+79146578354",vk:"vk.com/zeka",avatar:K.a,header:ee.a,posts:ae(4),followed:!0,status:"I love Siberia"},ce={id:3,login:"Misha",date:"28.31.2001",city:"Omsk",phone:"+79146578354",vk:"vk.com/Misha",avatar:J.a,header:ee.a,posts:ae(3),followed:!1,status:"\u0421\u043f\u043e\u0440\u0442 - \u044d\u0442\u043e \u0436\u0438\u0437\u043d\u044c"},ue=[{name:"Misha",avatar:J.a},{name:"Anya",avatar:Y.a},{name:"Zeka",avatar:K.a}],le=a(28),me=a(8),de=function(e){var t=Object(me.a)({},e);t.users=Object(le.a)(e.users);for(var a=0;a<e.users.length;a++)t.users[a]=Object(me.a)({},e.users[a]),t.users[a].id=e.users[a].id,t.users[a].name=e.users[a].name;t.messages=Object(le.a)(e.messages);for(var n=0;n<e.messages.length;n++)t.messages[n]=Object(me.a)({},e.messages[n]),t.messages[n].dialog=Object(le.a)(e.messages[n].dialog),t.messages[n].userId=e.messages[n].userId;return t},fe={users:[{id:1,name:"Misha"},{id:2,name:"Anya"},{id:3,name:"Evgenii"},{id:4,name:"Azat"}],messages:Z,msg:""},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,a=de(e);switch(t.type){case"ADD-MSG":for(var n=0;n<a.messages.length;n++)if(a.messages[n].userId===t.id)return a.messages[n].dialog.push({text:t.text,author:"Me"}),a;break;default:return a}},pe=a(69),_e=a.n(pe),he=function(e){return o.a.createElement("div",{className:_e.a.Message},o.a.createElement("div",{className:_e.a.author},e.author+" : "),o.a.createElement("div",{className:_e.a.text},e.text))},ve=function(e){return e.messagesPage.messages},Ee=function(e,t){for(var a=0;a<e.length;a++){var n=e[a];if(n.userId===t)return n.dialog}},be=Object(M.b)((function(e){return{messages:ve(e)}}),(function(e){return{add:function(t,a){e(function(e,t){return{type:"ADD-MSG",text:e,id:t}}(t,a))}}}),(function(e,t,a){return{id:a.id,messages:Ee(e.messages,a.id),add:t.add}}))((function(e){return i.createElement(q,{renderedMessages:e.messages.map((function(e){return i.createElement(he,{author:e.author,text:e.text})})),addMsg:function(t){e.add(t.message,e.id)}})})),Ne=be,ke=function(e){var t=e.state,a=t.users.map((function(e){return o.a.createElement(P,{id:e.id,name:e.name})})),n=t.messages.map((function(e){return o.a.createElement(p.b,{path:"/Messages/"+e.userId,exact:!0,render:function(){return o.a.createElement(Ne,{id:e.userId})}})}));return o.a.createElement("div",{className:L.a.Messages},o.a.createElement("div",{className:L.a.users},a),n)},xe=a(97),we=a.n(xe),Ie=a(22),Oe=a.n(Ie),Le=function(e){var t=e.userInfo;return o.a.createElement("div",{className:Oe.a.Info},o.a.createElement("img",{className:Oe.a.avatar,src:e.avatar,alt:"Ava"}),o.a.createElement("div",{className:Oe.a.data},o.a.createElement("span",{className:Oe.a.fio},t.login),o.a.createElement("span",{className:Oe.a.date},"Birth date : ",t.date),o.a.createElement("span",{className:Oe.a.city},"City : ",t.city),o.a.createElement("span",{className:Oe.a.contacts},o.a.createElement("span",{className:Oe.a.phone}," Tel : ",t.phone),o.a.createElement("span",{className:Oe.a.vk}," Vk : ",t.vk))))},ye=a(33),Fe=a.n(ye),Pe=function(e){return o.a.createElement("div",{className:Fe.a.posts},o.a.createElement("h2",null,"Posts"),o.a.createElement("div",{className:Fe.a.list},e.renderedPosts))},Me=function(e){var t=Object(me.a)({},e);t.myPostsCount++;for(var a=0;a<t.users.length;a++)t.users[a]=Object(me.a)({},e.users[a]),t.users[a].id=e.users[a].id,t.users[a].login=e.users[a].login,t.users[a].date=e.users[a].date,t.users[a].city=e.users[a].city,t.users[a].phone=e.users[a].phone,t.users[a].vk=e.users[a].vk,t.users[a].avatar=e.users[a].avatar,t.users[a].header=e.users[a].header,t.users[a].posts=Object(le.a)(e.users[a].posts);return t},Se={users:[se,oe,ce,ie],myPostsCount:2},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,a=Me(e);switch(t.type){case"ADD-POST":return a.users[0].posts.push({text:t.post,likes:0}),a.myPostsCount++,a;default:return a}},Te=a(47),je=a.n(Te),Ae=function(e){return o.a.createElement("div",{className:je.a.Post},o.a.createElement("img",{className:je.a.avatar,src:e.ava,alt:"post author img"}),o.a.createElement("div",{className:je.a.text},e.text),o.a.createElement("div",{className:je.a.likes},o.a.createElement("b",null,"Likes : "),e.likes))},Ue=function(e){return function(t){return t&&t.length<e?"Min length is "+e:t?void 0:"Field is empty"}}(1),He=Object(j.a)({form:"postsForm"})((function(e){return o.a.createElement("form",{className:Fe.a.form,onSubmit:e.handleSubmit},o.a.createElement(T.a,{component:R,name:"post",className:Fe.a.textarea,validate:[Ue]}),o.a.createElement("button",{className:Fe.a.button},"Submit"))})),Re=Object(M.b)((function(e){return{arr:[]}}),(function(e){return{add:function(t){return e(function(e){return{type:"ADD-POST",post:e}}(t))}}}),(function(e,t,a){var n=a.login,r=ne(n);return{login:n,add:t.add,posts:a.posts,avatar:r.avatar}}))((function(e){var t=function(){return e.posts.map((function(t){return o.a.createElement(Ae,{text:t.text,likes:t.likes,ava:e.avatar})}))},a=function(t){e.add(t.post)};return"Whatruska"===e.login?o.a.createElement(o.a.Fragment,null,o.a.createElement(He,{onSubmit:a}),o.a.createElement(Pe,{renderedPosts:t(),addPost:a})):o.a.createElement(o.a.Fragment,null,o.a.createElement(Pe,{renderedPosts:t(),addPost:a}))})),Ge=a(141),De=function(e){var t=Object(me.a)({},e);return t.isFetching=e.isFetching,t.currentProfile=Object(me.a)({},e.currentProfile),t},We=a(132),qe=a.n(We).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"584af9e6-8cd1-4b21-a823-66525ee43aae"}}),Ze={getProfileRequest:function(e){return qe.get(function(e){return"profile/"+e}(e)).then((function(e){return e.data})).then((function(e){return{id:e.userId,login:e.fullName,date:"Idcr",city:"Omsk",phone:"+00000000000",vk:e.contacts.vk,avatar:null===e.photos.large?X.a:e.photos.large,header:ee.a}}))},getStatusRequest:function(e){return qe.get(function(e){return"profile/status/"+e}(e)).then((function(e){return e.data}))}},ze={currentProfile:void 0,isFetching:!0,status:""},Je=function(e){return{type:"SET_PROFILE",profile:e}},Be=function(e,t){return function(a){if(t||a({type:"FETCH"}),null!=e.match(new RegExp("\\d+")))a(function(e){return function(t){Ze.getProfileRequest(e).then((function(e){t(Je(e)),t({type:"FETCH"})}))}}(e));else{var n=ne(e);a(Je(n)),a({type:"FETCH"})}}},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0,a=De(e);switch(t.type){case"FETCH":a.isFetching=!a.isFetching;break;case"SET_PROFILE":a.currentProfile=t.profile;break;case"STATUS":a.status=t.status}return a},Ve=a(70),Ke=a.n(Ve),Qe=o.a.createRef(),Xe=function(e){return e.editMode?1===e.id?o.a.createElement("input",{type:"text",className:Ke.a.input,ref:Qe,onBlur:function(){e.updateStatus(Qe.current.value),e.deactivateEdit()}}):o.a.createElement("div",{className:Ke.a.status},"Status : ",e.status):o.a.createElement("div",{onDoubleClick:e.activateEdit,className:Ke.a.status},"Status : ",e.status)},$e=function(e){return e.profilePage.currentProfile},et=function(e){return e.profilePage.isFetching},tt=function(e){return e.profilePage.status},at=Object(M.b)((function(e){return{status:tt(e)}}),(function(e){return{getStatus:function(t){e(function(e){return function(t){Ze.getStatusRequest(e).then((function(e){t(function(e){return{type:"STATUS",status:e}}(e))}))}}(t))}}}))((function(e){var t=Object(i.useState)(!1),a=Object(Ge.a)(t,2),n=a[0],r=a[1];Object(i.useEffect)((function(){e.getStatus(e.id)}),[]);var s=e.status;return e.id<5&&(s=re(e.id).status),o.a.createElement(Xe,{editMode:n,status:s,id:e.id,activateEdit:function(){r(!0)},deactivateEdit:function(){r(!1)},updateStatus:function(t){re(e.id).status=t}})})),nt=function(e){var t=e.state,a=t.id,n={login:t.login,date:t.date,city:t.city,phone:t.phone,vk:t.vk};return o.a.createElement("div",{className:we.a.Profile},o.a.createElement("img",{src:t.header,className:we.a.header,alt:"Profile header"}),o.a.createElement(Le,{userInfo:n,avatar:t.avatar}),o.a.createElement(at,{id:a}),t.posts?o.a.createElement(Re,{posts:t.posts,login:t.login}):o.a.createElement(o.a.Fragment,null))},rt=function(e){var t=Object(me.a)({},e);t.users=Object(le.a)(e.users);for(var a=0;a<t.length;a++)t.users[a]=Object(me.a)({},e.users[a]);return t},st=a(133),it=a.n(st),ot={getPageRequest:function(e,t){return qe.get(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return"users?page="+e+"&count="+t}(e,t)).then((function(e){return e.data.items.map((function(e){return{id:e.id,login:e.name,followed:e.followed,avatar:null===e.photos.large?it.a:e.photos.large,date:"00.00.0000",city:"NaN",phone:"NaN",vk:"NaN",header:ee.a,posts:[]}}))}))}},ct=function(e){return"follow/"+e},ut={getFollowRequest:function(e){return qe.post(ct(e),{}).then((function(e){return e.data}))},getUnfollowRequest:function(e){return qe.delete(ct(e)).then((function(e){return e.data}))}},lt={users:[ie,ce,oe],pageSize:6,pageCount:1,isFetching:!1},mt=function(e,t){for(var a=0;a<t.length;a++)if(t[a].id===e)return t[a]},dt=function(e){return{type:"SET_PAGE_COUNT",count:e}},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0,a=rt(e);switch(t.type){case"FOLLOW":var n=mt(t.id,a.users);n.followed=!0;break;case"UNFOLLOW":var r=mt(t.id,a.users);r.followed=!1;break;case"USERS":a.users=t.users;break;case"SET_PAGE_COUNT":a.pageCount=t.count;break;case"SET_PAGE_SIZE":break;case"TOGGLE_FETCH":a.isFetching=!a.isFetching;break;default:return a}return a},gt=a(21),pt=a.n(gt),_t=a(134),ht=a.n(_t),vt=a(135),Et=a.n(vt),bt=function(){return o.a.createElement("img",{src:Et.a,className:ht.a.Preloader,alt:"Preloader"})},Nt=function(e){return o.a.createElement("div",{className:pt.a.UserList},e.isFetching?o.a.createElement(bt,null):o.a.createElement("div",{className:pt.a.wrapper},e.renderedUsers),o.a.createElement("div",{className:pt.a.btns_wrapper},o.a.createElement("button",{onClick:function(){e.refresh(e.dec)},className:pt.a.btn,disabled:e.isFetching},"<<<"),o.a.createElement("div",{className:pt.a.page_counter},"Page number : ",e.pageCount),o.a.createElement("button",{onClick:function(){e.refresh(e.inc)},className:pt.a.btn,disabled:e.isFetching},">>>")))},kt=a(24),xt=a.n(kt),wt=function(e){var t=e.user,a=t.followed?xt.a.unfollow:xt.a.follow,n=t.followed?"Unfollow":"Follow";return o.a.createElement("div",{className:xt.a.UserListItem},o.a.createElement("div",{className:xt.a.meta},o.a.createElement("img",{className:xt.a.avatar,src:t.avatar,alt:"Avatar"}),o.a.createElement("button",{type:"submit",className:xt.a.btn+" "+a,onClick:function(a){a.preventDefault(),t.followed?e.unfollow(t.id):e.follow(t.id)}},n)),o.a.createElement("div",{className:xt.a.info},o.a.createElement(_.b,{className:xt.a.login,to:"../User/"+t.id},t.login),o.a.createElement("h4",null,"City : ",t.city),o.a.createElement("h4",null,"Birthday : ",t.date)))},It=function(e){return e.userList.users},Ot=function(e){return e.userList.pageSize},Lt=function(e){return e.userList.pageCount},yt=function(e){return e.userList.isFetching},Ft=Object(M.b)((function(e){return{isFetching:yt(e)}}),(function(e){return{follow:function(t){e(function(e){return function(t){t({type:"TOGGLE_FETCH"}),ut.getFollowRequest(e).then((function(a){0===a.resultCode&&t(function(e){return{type:"FOLLOW",id:e}}(e)),t({type:"TOGGLE_FETCH"})}))}}(t))},unfollow:function(t){e(function(e){return function(t){t({type:"TOGGLE_FETCH"}),ut.getUnfollowRequest(e).then((function(a){0===a.resultCode&&t(function(e){return{type:"UNFOLLOW",id:e}}(e)),t({type:"TOGGLE_FETCH"})}))}}(t))},toggleFetching:function(){e({type:"TOGGLE_FETCH"})}}}),(function(e,t,a){return{isFetching:e.isFetching,user:a.user,follow:t.follow,unfollow:t.unfollow,toggleFetching:t.toggleFetching}}))((function(e){return o.a.createElement(wt,{user:e.user,follow:e.follow,unfollow:e.unfollow})})),Pt=function(e){return e.loginData.email},Mt=function(e){return e.loginData.isLogged},St=function(e){return e.loginData.isFetching},Ct=function(e){return e.loginData.errorMessage},Tt=Object(M.b)((function(e){return{isLogged:Mt(e),users:It(e),pageSize:Ot(e),pageCount:Lt(e),isFetching:yt(e),inc:"INC",dec:"DEC"}}),(function(e){return{refresh:function(t,a,n){e(function(e,t,a){return function(n){if(n({type:"TOGGLE_FETCH"}),e)switch(e){case"INC":n(dt(++t));break;case"DEC":t>1&&n(dt(--t))}ot.getPageRequest(t,a).then((function(e){n(function(e){return{type:"USERS",users:e}}(e)),n({type:"TOGGLE_FETCH"})}))}}(t,a,n))}}}))((function(e){var t=function(t){e.refresh(t,e.pageCount,e.pageSize)};Object(i.useEffect)((function(){t()}),[]);var a=function(e){if(e)return function(e){for(var t=[],a=[];e.length>0;)3===a.length?(t.push(o.a.createElement("div",{className:pt.a.column},a)),a=[]):a.push(e.pop());return a.length>0&&t.push(o.a.createElement("div",{className:pt.a.column},a)),t}(e.map((function(e){return o.a.createElement(Ft,{user:e})})))}(e.users);return e.isLogged?o.a.createElement(Nt,{renderedUsers:a,refresh:t,inc:e.inc,dec:e.dec,pageCount:e.pageCount,isFetching:e.isFetching}):o.a.createElement(p.a,{to:"/"})})),jt=a(136),At=a.n(jt),Ut=Object(p.f)((function(e){Object(i.useEffect)((function(){e.refresh(e.match.params.userId,e.isFetching)}),[]);var t=e.isFetching;return o.a.createElement("div",{className:At.a.Container},t?o.a.createElement(bt,null):o.a.createElement(nt,{state:e.profile}))})),Ht=Object(M.b)((function(e){return{isFetching:et(e),profile:$e(e)}}),(function(e){return{refresh:function(t,a){e(Be(t,a))}}}))(Ut),Rt={getAuthRequest:function(){return qe.get("auth/me").then((function(e){return e.data}))},getLoginRequest:function(e,t,a){return qe.post(function(e,t,a){return"auth/login?email="+e+"&password="+t+"&rememberMe="+a}(e,t,a)).then((function(e){return e.data}))},getLogoutRequest:function(){return qe.delete("auth/login").then((function(e){return e.data}))}},Gt={userId:1,email:"test@email",isLogged:!1,isFetching:!1,errorMessage:void 0},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0,a=Object(me.a)({},e);switch(t.type){case"LOGIN_ID":a.userId=t.id;break;case"SET_EMAIL":a.email=t.email;break;case"LOG_IN":a.isLogged=!0;break;case"LOG_OUT":a.isLogged=!1;break;case"FETCH":a.isFetching=!a.isFetching;break;case"ERROR":a.errorMessage=[t.errorMessage];break;case"SET_DATA":var n=t.data;a.email=n.email,a.userId=n.userId,a.isLogged=!0;break;default:return a}return a},Wt=a(29),qt=a.n(Wt),Zt=a(71),zt=a.n(Zt),Jt=function(e){var t=e.input,a=e.meta,n=e.className,r=Object(A.a)(e,["input","meta","className"]);return o.a.createElement("div",{className:zt.a.Input},o.a.createElement("input",Object.assign({},t,r,{className:n+(a.error&&a.touched?" "+zt.a.error:"")})),a.error&&a.touched?o.a.createElement("div",{className:zt.a.span},a.error):o.a.createElement(o.a.Fragment,null))},Bt=function(e){if(e&&-1===e.toString().indexOf("@"))return"Invalid email format"},Yt=Object(j.a)({form:"loginForm"})((function(e){return o.a.createElement("form",{className:qt.a.loginForm,onSubmit:e.handleSubmit},o.a.createElement(T.a,{placeholder:"E-mail",type:"e-mail",name:"email",className:qt.a.input,component:Jt,validate:[G,Bt]}),o.a.createElement(T.a,{placeholder:"Password",type:"password",name:"password",className:qt.a.input,component:Jt,validate:[G]}),o.a.createElement(T.a,{component:"input",type:"checkbox",name:"remember",className:qt.a.checkbox}),o.a.createElement("span",null,"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"),o.a.createElement("div",null,e.errorMessage),o.a.createElement("button",{type:"submit",className:qt.a.btn},"Login"))})),Vt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:qt.a.Login},o.a.createElement("h1",{className:qt.a.heading},"Welcome"),o.a.createElement(Yt,{onSubmit:this.props.login,errorMessage:this.props.errorMessage}))}}]),t}(o.a.Component),Kt=a(98),Qt=a.n(Kt),Xt=Object(M.b)((function(e){return{isLogged:Mt(e),isFetching:St(e),errorMessage:Ct(e)}}),(function(e){return{login:function(t,a,n){e(function(e,t,a){return function(n){n({type:"FETCH"}),Rt.getLoginRequest(e,t,a).then((function(t){0===t.resultCode?(n(function(e){return{type:"SET_EMAIL",email:e}}(e)),n({type:"LOGIN_ID",id:t.data.userId}),n({type:"LOG_IN"})):n({type:"ERROR",errorMessage:"\u041d\u0435\u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u044b email/\u043f\u0430\u0440\u043e\u043b\u044c"}),n({type:"FETCH"})}))}}(t,a,n))}}}))((function(e){var t=function(e){if(e)return e.map((function(e){return o.a.createElement("div",{className:Qt.a.errorMessage},e)}))}(e.errorMessage);return e.isLogged?o.a.createElement(o.a.Fragment,null):e.isFetching?o.a.createElement("div",{className:Qt.a.preloader_wrapper},o.a.createElement(bt,null)):o.a.createElement(Vt,{login:function(t){var a=t.email,n=t.password,r=!!t.remember;e.login(a,n,r)},errorMessage:t})})),$t=a(137),ea=a.n($t),ta=a(138),aa=a.n(ta),na=function(){return o.a.createElement("div",{className:ea.a.Greeting},o.a.createElement("img",{src:aa.a,alt:"gif"}))},ra={isInitialized:!1},sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0,a=Object(me.a)({},e);switch(t.type){case"INIT_FINISH":return a.isInitialized=!0,a;default:return a}},ia=function(e){return e.init.isInitialized},oa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).myProfile=o.a.createElement(p.b,{path:"/Profile",exact:!0,render:function(){var e=a.props.userPages[0];return o.a.createElement(nt,{state:e})}}),a.renderedFriends=a.props.userPages.map((function(e){if("Whatruska"!==e.login)return o.a.createElement(p.b,{path:"/Friend/"+e.login,exact:!0,render:function(){return o.a.createElement(nt,{state:e})}})})),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.props.isInitialized?this.props.isLogged?o.a.createElement(_.a,{basename:"/React"},o.a.createElement("div",{className:"Main"},o.a.createElement(I,{state:this.props.friendInfo}),o.a.createElement(p.b,{path:"/Messages",render:function(){return o.a.createElement(ke,{state:e.props.messagesPage})}}),o.a.createElement(p.b,{path:"/UserListAPIComponent",render:function(){return o.a.createElement(Tt,null)}}),this.myProfile,this.renderedFriends,o.a.createElement(p.b,{path:"/User/:userId"},o.a.createElement(Ht,null)),o.a.createElement(p.b,{path:"/",exact:!0,render:function(){return o.a.createElement(na,null)}}))):o.a.createElement(_.a,null,o.a.createElement("div",{className:"Main"},o.a.createElement(p.a,{to:"/"}),o.a.createElement(p.b,{path:"/",exact:!0,render:function(){return o.a.createElement(Xt,null)}}))):(this.props.auth(),this.props.finishInit(),o.a.createElement(bt,null))}}]),t}(o.a.Component),ca=Object(M.b)((function(e){return{messagesPage:e.messagesPage,friendInfo:e.friendInfo,userPages:e.userPages.users,isLogged:Mt(e),isInitialized:ia(e)}}),(function(e){return{finishInit:function(){e({type:"INIT_FINISH"})},auth:function(){e((function(e){Rt.getAuthRequest().then((function(t){0===t.resultCode&&e(function(e){return{type:"SET_DATA",data:e}}(t.data))}))}))}}}))(oa),ua=(a(267),a(139)),la=a.n(ua),ma=a(30),da=a.n(ma),fa=function(e){return o.a.createElement("div",{className:da.a.Header},o.a.createElement("div",{className:da.a.logo_wrapper},o.a.createElement("img",{src:la.a,className:da.a.logo,alt:"Web App Logo"}),o.a.createElement("span",{className:da.a.heading},"Web App")),e.email?o.a.createElement("div",{className:da.a.login_block},o.a.createElement("div",{className:da.a.email},e.email),o.a.createElement("button",{className:da.a.logout,onClick:e.logout},"Log out")):o.a.createElement(o.a.Fragment,null))},ga=Object(M.b)((function(e){return{email:Pt(e),isLogged:Mt(e)}}),(function(e){return{logout:function(){e((function(e){Rt.getLogoutRequest().then((function(t){e({type:"LOG_OUT"})}))}))}}}))((function(e){return e.isLogged?o.a.createElement(fa,{email:e.email,logout:e.logout}):o.a.createElement(fa,null)})),pa=function(e){return o.a.createElement(M.a,{store:e.store},o.a.createElement("div",{className:"App"},o.a.createElement(ga,null),o.a.createElement(ca,null)))},_a=a(7),ha={friends:ue},va=function(e,t){return ha},Ea=a(140),ba=a(271),Na=Object(_a.c)({messagesPage:ge,userPages:Ce,friendInfo:va,userList:ft,profilePage:Ye,loginData:Dt,init:sa,form:ba.a}),ka=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_a.d,xa=Object(_a.e)(Na,ka(Object(_a.a)(Ea.a)));(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa;u.a.render(o.a.createElement(pa,{store:e}),document.getElementById("root"))})(),function(e){if("serviceWorker"in navigator){if(new URL("/React",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/React","/service-worker.js");n?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):r(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):r(t,e)}))}}()},29:function(e,t,a){e.exports={Login:"Login_Login__2fTsM",loginForm:"Login_loginForm__Zexmj",heading:"Login_heading__24uYQ",input:"Login_input__1LHfb",checkbox:"Login_checkbox__3RdgE",btn:"Login_btn__1LGfm"}},30:function(e,t,a){e.exports={Header:"Header_Header__1Wpu4",logo:"Header_logo__3x1na",rotate:"Header_rotate__2WhJy",logo_wrapper:"Header_logo_wrapper__2dpDa",heading:"Header_heading__iAZ-V",login_block:"Header_login_block__14KiE",logout:"Header_logout__3nM0p",email:"Header_email__6vB7p"}},33:function(e,t,a){e.exports={posts:"Posts_posts__2MaqE",list:"Posts_list__3g1Yz",form:"Posts_form__3J6h3",textarea:"Posts_textarea__qJL18",button:"Posts_button__TayFM"}},44:function(e,t,a){e.exports={Sidebar:"Sidebar_Sidebar__Ynjep",heading:"Sidebar_heading__S33Uo",friends:"Sidebar_friends__1wvWd",active:"Sidebar_active__2EKeK"}},45:function(e,t,a){e.exports={Friend:"Friend_Friend__30tIP",avatar:"Friend_avatar__3hG9Y",img:"Friend_img__1NKsq",name:"Friend_name__eJXU9",active:"Friend_active__2hFLp"}},46:function(e,t,a){e.exports={TextArea:"TextArea_TextArea__1YK35",textarea:"TextArea_textarea__1RLTi",error:"TextArea_error__2W9IO",span:"TextArea_span__1fMVr"}},47:function(e,t,a){e.exports={Post:"Post_Post__1aAK5",avatar:"Post_avatar__3dWcG",text:"Post_text__3B691",likes:"Post_likes__17jD2"}},63:function(e,t,a){e.exports=a.p+"static/media/ava.65808d6a.jpeg"},66:function(e,t,a){e.exports={user:"User_user__2dbhM",link:"User_link__3ZkDn",active:"User_active__2D6yT"}},67:function(e,t,a){e.exports={Dialog:"Dialog_Dialog__3BJVF",form:"Dialog_form__27moH",button:"Dialog_button__2tx-v"}},69:function(e,t,a){e.exports={Message:"Message_Message__3VEz7",author:"Message_author__1uQwJ",text:"Message_text__8Q421"}},70:function(e,t,a){e.exports={status:"Status_status__2T15R",input:"Status_input__38zfl"}},71:function(e,t,a){e.exports={Input:"Input_Input__2BZj3",error:"Input_error__3qcYl",span:"Input_span__3lGAW"}},90:function(e,t,a){e.exports={Messages:"Messages_Messages__-i9NO",users:"Messages_users__2Vb3R"}},94:function(e,t,a){e.exports=a.p+"static/media/Misha.7547549a.jpg"},95:function(e,t,a){e.exports=a.p+"static/media/Anya.9c5e0711.jpg"},96:function(e,t,a){e.exports=a.p+"static/media/Zeka.a704a6ae.jpg"},97:function(e,t,a){e.exports={Profile:"Profile_Profile__1cg65",header:"Profile_header__2ae6Q"}},98:function(e,t,a){e.exports={preloader_wrapper:"LoginContainer_preloader_wrapper__2Ninr",errorMessage:"LoginContainer_errorMessage__2RXn0"}}},[[142,1,2]]]);
//# sourceMappingURL=main.33a8e64f.chunk.js.map